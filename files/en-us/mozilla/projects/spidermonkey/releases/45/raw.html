<div><!-- {{SpiderMonkeySidebar("Releases")}} --></div>

<div class="warning">
<p>SpiderMonkey 45 is <strong>outdated</strong> and contains known <strong>security vulnerabilities</strong>.</p>
</div>

<div class="note" style="color: black;">
<p><strong>These release notes are incomplete.</strong></p>

<p>The Mozilla JavaScript team is pleased to announce the release of <strong>SpiderMonkey 45</strong>. You can download full source code from <a href="https://ftp.mozilla.org/pub/spidermonkey/releases/45.0.2/mozjs-45.0.2.tar.bz2">https://ftp.mozilla.org/pub/spidermonkey/releases/45.0.2/mozjs-45.0.2.tar.bz2</a></p>

<div>SHA256: 570530b1e551bf4a459d7cae875f33f99d5ef0c29ccc7742a1b6f588e5eadbee</div>
MD5: 2ca34f998d8b5ea79d8616dd26b5fbab

<div class="yj6qo ajU">
<div class="ajR" id=":l4"></div>
</div>

<p>SpiderMonkey 45 is the JavaScript engine that shipped in Firefox 45. It continues to improve performance over previous SpiderMonkey releases. It also contains new language and API features described in detail below.</p>

<p>Please let us know about your experiences with this release by posting in the <a class="link-news" href="news://news.mozilla.org/mozilla.dev.tech.js-engine">mozilla.dev.tech.js-engine newsgroup</a>. Or file bugs at <a class="link-https" href="https://bugzilla.mozilla.org/">bugzilla.mozilla.org</a> under Product: Core, Component: JavaScript engine. You may wish to make the bugs block bug 837921 (aliased as "sm.embedding").</p>

<p>— <span class="gI">Apr 14, 2016</span></p>
</div>

<h2 id="Platform_support">Platform support</h2>

<p>SpiderMonkey 45 is supported on all platforms able to run Firefox 45.  Compiling it requires a C++ compiler, and the JSAPI can only be used from C++ code.  If you are compiling with Microsoft's Visual Studio, note the minimum supported version is MSVC 2013.</p>

<p>SpiderMonkey 45 includes a just-in-time compiler (JIT) that compiles JavaScript to machine code, for a significant speed increase. It is supported on x86, x86_64, and ARM architectures. On several other platforms (SPARC, MIPS), the JIT is provided but not supported.  On remaining platforms the JIT is disabled; JavaScript code runs in an interpreter, as it has in previous versions. It's the same language, just not as fast.</p>

<h2 id="Migrating_to_SpiderMonkey_45">Migrating to SpiderMonkey 45</h2>

<p>SpiderMonkey 45 is not binary-compatible with previous releases, nor is it source-code compatible. Many JSAPI types; functions, and callback signatures, have changed though most functions that have retain their previous name, providing relatively unchanged functionality. Applications will require significant changes, but most changes will be automatically detected by the C/C++ compiler, making them easy to detect and updating the code a relatively straightforward job. Here is a list of the most significant changes:</p>

<ul>
 <li>JS::NullPtr is obsolete. You should now use nullptr instead. (Supporting decltype(nullptr)).</li>
</ul>

<h2 id="New_JavaScript_language_features">New JavaScript language features</h2>

<p>JavaScript 45 includes significant updates to its language features, yo.</p>

<h2 id="New_C_APIs" style="position: static;">New C++ APIs</h2>

<p>JSAPI is a C++ exclusive API. Please note that SpiderMonkey reserves the <code>JS::</code> namespace for itself for public exports and the  <code>js::</code> namespace for internal use.</p>

<ul>
 <li>JS_SetCurrentEmbedderTimeFunction (<!-- {{bug(1159507)}} -->)</li>
 <li>JS_GetCurrentEmbedderTime (<!-- {{bug(1159507)}} -->)</li>
 <li>JS_MayResolveStandardClass (<!-- {{bug(1155946)}} -->)</li>
 <li>JS_GetIteratorPrototype (<!-- {{bug(1225392)}} -->)</li>
 <li>JS_GlobalLexicalScope (<!-- {{bug(1202902)}} -->)</li>
 <li>JS_HasExtensibleLexicalScope (<!-- {{bug(1202902)}} -->)</li>
 <li>JS_ExtensibleLexicalScope (<!-- {{bug(1202902)}} -->)</li>
 <li>JS_InitReflectParse (<!-- {{bug(987514)}} -->)</li>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Reference/JS::ToPrimitive">JS::ToPrimitive</a> (<!-- {{bug(1206168)}} -->)</li>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Reference/JS::GetFirstArgumentAsTypeHint">JS::GetFirstArgumentAsTypeHint</a> (<!-- {{bug(1054756)}} -->)</li>
 <li>JS::ObjectToCompletePropertyDescriptor (<!-- {{bug(1144366)}} -->)</li>
 <li>JS_SetImmutablePrototype (<!-- {{bug(1211607)}} -->)</li>
 <li>JS_GetOwnUCPropertyDescriptor (<!-- {{bug(1211607)}} -->)</li>
 <li>JS_HasOwnPropertyById (<!-- {{bug(1211607)}} -->)</li>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Reference/JS_HasOwnProperty">JS_HasOwnProperty</a> (<!-- {{bug(1211607)}} -->)</li>
 <li>JS_DeleteUCProperty (<!-- {{bug(1211607)}} -->)</li>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Reference/JS::NewFunctionFromSpec">JS::NewFunctionFromSpec</a> (<!-- {{bug(1054756)}} -->)</li>
 <li>JS::CompileForNonSyntacticScope (<!-- {{bug(1165486)}} -->)</li>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Reference/JS_CheckForInterrupt">JS_CheckForInterrupt</a> (<!-- {{bug(1058695)}} -->)</li>
 <li>JS::MapDelete (<!-- {{bug(1159469)}} -->)</li>
 <li>JS::MapForEach (<!-- {{bug(1159469)}} -->)</li>
 <li>JS::NewSetObject (<!-- {{bug(1159469)}} -->)</li>
 <li>JS::SetSize (<!-- {{bug(1159469)}} -->)</li>
 <li>JS::SetHas (<!-- {{bug(1159469)}} -->)</li>
 <li>JS::SetDelete (<!-- {{bug(1159469)}} -->)</li>
 <li>JS::SetAdd (<!-- {{bug(1159469)}} -->)</li>
 <li>JS::SetClear (<!-- {{bug(1159469)}} -->)</li>
 <li>JS::SetKeys (<!-- {{bug(1159469)}} -->)</li>
 <li>JS::SetValues (<!-- {{bug(1159469)}} -->)</li>
 <li>JS::SetEntries (<!-- {{bug(1159469)}} -->)</li>
 <li>JS::SetForEach (<!-- {{bug(1159469)}} -->)</li>
 <li>JS::ExceptionStackOrNull (<!-- {{bug(814497)}} -->)</li>
 <li>JS::CopyAsyncStack (<!-- {{bug(1160307)}} -->)</li>
 <li>JS::GetSavedFrameSource (<!-- {{bug(1216819)}} -->)</li>
 <li>JS::GetSavedFrameLine (<!-- {{bug(1216819)}} -->)</li>
 <li>JS::GetSavedFrameColumn (<!-- {{bug(1216819)}} -->)</li>
 <li>JS::GetSavedFrameFunctionDisplayName (<!-- {{bug(1216819)}} -->)</li>
 <li>JS::GetSavedFrameAsyncCause (<!-- {{bug(1216819)}} -->)</li>
 <li>JS::GetSavedFrameAsyncParent (<!-- {{bug(1216819)}} -->)</li>
 <li>JS::GetSavedFrameParent (<!-- {{bug(1216819)}} -->)</li>
 <li>JS::BuildStackString (<!-- {{bug(1133191)}} -->)</li>
 <li>JS::FlushPerformanceMonitoring (<!-- {{bug(1181175)}} -->)</li>
 <li>JS::ResetPerformanceMonitoring (<!-- {{bug(1181175)}} -->)</li>
 <li>JS::DisposePerformanceMonitoring (<!-- {{bug(1208747)}} -->)</li>
 <li>JS::SetStopwatchIsMonitoringCPOW (<!-- {{bug(1156264)}} -->)</li>
 <li>JS::GetStopwatchIsMonitoringCPOW (<!-- {{bug(1156264)}} -->)</li>
 <li>JS::SetStopwatchIsMonitoringJank (<!-- {{bug(1156264)}} -->)</li>
 <li>JS::GetStopwatchIsMonitoringJank (<!-- {{bug(1156264)}} -->)</li>
 <li>JS::IsStopwatchActive (<!-- {{bug(674779)}} -->)</li>
 <li>JS::GetPerfMonitoringTestCpuRescheduling (<!-- {{bug(1181175)}} -->)</li>
 <li>JS::AddCPOWPerformanceDelta (<!-- {{bug(1181175)}} -->)</li>
 <li>JS::SetStopwatchStartCallback (<!-- {{bug(1208747)}} -->)</li>
 <li>JS::SetStopwatchCommitCallback (<!-- {{bug(1208747)}} -->)</li>
 <li>JS::SetGetPerformanceGroupsCallback (<!-- {{bug(1208747)}} -->)</li>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Reference/JS_StringHasBeenInterned">JS_StringHasBeenInterned</a> renamed to JS_StringHasBeenPinned (<!-- {{bug(1178581)}} -->)</li>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Reference/JS_InternJSString">JS_InternJSString</a> renamed to JS_AtomizeAndPinJSString (<!-- {{bug(1178581)}} -->)</li>
 <li>JS_InternStringN renamed to JS_AtomizeAndPinStringN (<!-- {{bug(1178581)}} -->)</li>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Reference/JS_InternString">JS_InternString</a> renamed to JS_AtomizeAndPinString (<!-- {{bug(1178581)}} -->)</li>
 <li>JS_InternUCStringN renamed to JS_AtomizeAndPinUCStringN (<!-- {{bug(1178581)}} -->)</li>
 <li>JS_InternUCString renamed to JS_AtomizeAndPinUCString (<!-- {{bug(1178581)}} -->)</li>
</ul>

<h2 id="Deleted_APIs">Deleted APIs</h2>

<ul>
 <li>JS_GetCompartmentStats</li>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Reference/JS_SetICUMemoryFunctions">JS_SetICUMemoryFunctions</a></li>
 <li>JS_IsGCMarkingTracer</li>
 <li>JS_IsMarkingGray</li>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Reference/JS_IdArrayLength">JS_IdArrayLength</a></li>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Reference/JS_IdArrayGet">JS_IdArrayGet</a></li>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Reference/JS_DestroyIdArray">JS_DestroyIdArray</a></li>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Reference/JS_DefaultValue">JS_DefaultValue</a></li>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Reference/JS_GetParent">JS_GetParent</a></li>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Reference/JS_SetParent">JS_SetParent</a></li>
 <li>JS::ParsePropertyDescriptorObject</li>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Reference/JS_DeleteProperty2">JS_DeleteProperty2</a></li>
 <li>JS_DeletePropertyById2</li>
 <li>JS_DeleteUCProperty2</li>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Reference/JS_DeleteElement2">JS_DeleteElement2</a></li>
 <li>JS_NewFunctionById</li>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Reference/JS_BindCallable">JS_BindCallable</a></li>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Reference/JS_DecompileFunctionBody">JS_DecompileFunctionBody</a></li>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Reference/JS_GetLatin1InternedStringChars">JS_GetLatin1InternedStringChars</a></li>
 <li>JS_GetTwoByteInternedStringChars</li>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Reference/JS_NewDateObjectMsec">JS_NewDateObjectMsec</a></li>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Reference/JS_ClearDateCaches">JS_ClearDateCaches</a></li>
</ul>

<h2 id="Changed_APIs">Changed APIs</h2>

<ul>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Reference/JS_Init">JS_Init</a> has moved from jsapi.h to js/Initialization.h</li>
 <li><a href="/en-US/docs/Mozilla/Projects/SpiderMonkey/JSAPI_Reference/JS_ShutDown">JS_ShutDown</a> has moved from jsapi.h to js/Initialization.h</li>
 <li>JS_InitReflect is now implicit</li>
 <li>JS_AddWeakPointerCallback is replaced with JS_AddWeakPointerZoneGroupCallback and JS_AddWeakPointerCompartmentCallback</li>
 <li>JS_RemoveWeakPointerCallback is replaced with JS_RemoveWeakPointerZoneGroupCallback and JS_RemoveWeakPointerCompartmentCallback</li>
</ul>

<h2 id="API_changes">API changes</h2>

<h2 id="JavaScript_shell_changes">JavaScript shell changes</h2>

<p>Detail added/removed methods here...</p>

<h2 id="Known_Issues">Known Issues</h2>

<p>Detail any known issues here...</p>

<h2 id="Future_Direction">Future Direction</h2>

<p>JSContext and JSRuntime are merging. (JSContext will be the only thing visible from within the API, there will be just one per runtime, and inheriting from JSRuntime.)</p>

<p>SpiderMonkey embedders should be aware that Mozilla has no plans to keep the JSAPI stable for embedders. We have instead chosen to concentrate on overall performance and accuracy as our primary concerns.</p>

<h2 id="Release_Notes_Errata">Release Notes Errata</h2>

<p>Feel free to fix any problems you spot, directly in the text above -- this is a Wiki!</p>